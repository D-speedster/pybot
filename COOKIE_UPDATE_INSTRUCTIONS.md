# 🍪 راهنمای به‌روزرسانی کوکی‌های یوتیوب

## ⚠️ مشکل فعلی
خطای "Sign in to confirm you're not a bot" نشان می‌دهد که کوکی‌های احراز هویت یوتیوب منقضی شده یا نامعتبر هستند.

## 🔧 راه حل: استخراج کوکی‌های جدید

### مرحله 1: ورود به یوتیوب
1. مرورگر Chrome را باز کنید
2. به `https://www.youtube.com` بروید
3. **حتماً وارد اکانت یوتیوب خود شوید**
4. مطمئن شوید آواتار شما در گوشه بالا راست نمایش داده می‌شود

### مرحله 2: باز کردن Developer Tools
1. کلید `F12` را فشار دهید
2. به تب **"Application"** بروید
3. در سمت چپ، **"Storage"** را گسترش دهید
4. **"Cookies"** را گسترش دهید
5. روی `https://www.youtube.com` کلیک کنید

### مرحله 3: استخراج کوکی‌های مهم
کوکی‌های زیر را پیدا کرده و مقادیر آنها را کپی کنید:

#### 🔑 کوکی‌های ضروری:
- **SAPISID** - مهمترین کوکی برای احراز هویت
- **HSID** - شناسه جلسه HTTP
- **SSID** - شناسه جلسه امن
- **APISID** - شناسه جلسه API
- **LOGIN_INFO** - اطلاعات ورود (اگر موجود باشد)
- **session_token** - توکن جلسه (اگر موجود باشد)

#### نحوه کپی کردن:
1. روی نام کوکی کلیک کنید
2. مقدار آن در قسمت "Value" نمایش داده می‌شود
3. روی مقدار کلیک راست کرده و "Copy" را انتخاب کنید

### مرحله 4: جایگزینی در فایل cookies.txt
1. فایل `cookies.txt` را در پوشه پروژه باز کنید
2. خطوط زیر را پیدا کنید و مقادیر را جایگزین کنید:

```
.youtube.com	TRUE	/	TRUE	1772648989	SAPISID	REPLACE_WITH_YOUR_SAPISID_VALUE
.youtube.com	TRUE	/	TRUE	1772648989	HSID	REPLACE_WITH_YOUR_HSID_VALUE
.youtube.com	TRUE	/	TRUE	1772648989	SSID	REPLACE_WITH_YOUR_SSID_VALUE
.youtube.com	TRUE	/	TRUE	1772648989	APISID	REPLACE_WITH_YOUR_APISID_VALUE
.youtube.com	TRUE	/	TRUE	1772648989	LOGIN_INFO	REPLACE_WITH_YOUR_LOGIN_INFO_VALUE
```

### مثال:
اگر SAPISID شما `1234567890abcdef` باشد:
```
.youtube.com	TRUE	/	TRUE	1772648989	SAPISID	1234567890abcdef
```

### مرحله 5: ذخیره و تست
1. فایل `cookies.txt` را ذخیره کنید
2. سرور را ری‌استارت کنید
3. دوباره سعی کنید ویدیو دانلود کنید

## ⚠️ نکات مهم:
- **هرگز کوکی‌های خود را با دیگران به اشتراک نگذارید**
- کوکی‌ها ممکن است بعد از مدتی منقضی شوند
- اگر از حساب یوتیوب خارج شوید، کوکی‌ها نامعتبر می‌شوند
- **مطمئن شوید که فرمت فایل (تب‌ها) حفظ شود**

## 🔍 عیب‌یابی:
اگر همچنان خطا دریافت می‌کنید:
1. مطمئن شوید تمام کوکی‌های ضروری را جایگزین کرده‌اید
2. بررسی کنید هیچ فاصله اضافی وجود نداشته باشد
3. دوباره وارد یوتیوب شوید و کوکی‌های جدید استخراج کنید
4. از مرورگر دیگری امتحان کنید

## 🚀 بعد از به‌روزرسانی کوکی‌ها:
```bash
# ری‌استارت سرور
python main.py
```

یا اگر از Docker استفاده می‌کنید:
```bash
docker-compose restart
```